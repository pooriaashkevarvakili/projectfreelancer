import{E as T,u as _,r as h,G as U,w as k,l as x,H as C,I as E,J as O}from"./entry.2976f3ce.js";let I;function M(){return I}function v(e,t){const r=[],n=t.resolveKeyData||(o=>o.key),a=t.resolveValueData||(o=>o.value);for(const[o,i]of Object.entries(e))r.push(...(Array.isArray(i)?i:[i]).map(l=>{const f={key:o,value:l},u=a(f);return typeof u=="object"?v(u,t):Array.isArray(u)?u:{[typeof t.key=="function"?t.key(f):t.key]:n(f),[typeof t.value=="function"?t.value(f):t.value]:u}}).flat());return r}function j(e,t){return Object.entries(e).map(([r,n])=>{if(typeof n=="object"&&(n=j(n,t)),t.resolve){const a=t.resolve({key:r,value:n});if(a)return a}return typeof n=="number"&&(n=n.toString()),typeof n=="string"&&t.wrapValue&&(n=n.replace(new RegExp(t.wrapValue,"g"),`\\${t.wrapValue}`),n=`${t.wrapValue}${n}${t.wrapValue}`),`${r}${t.keyValueSeparator||""}${n}`}).join(t.entrySeparator||"")}const c=e=>({keyValue:e,metaKey:"property"}),p=e=>({keyValue:e}),m={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return`${s(e)}=${t}`}}},articleExpirationTime:c("article:expiration_time"),articleModifiedTime:c("article:modified_time"),articlePublishedTime:c("article:published_time"),bookReleaseDate:c("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:e,value:t}){return`${s(e)} ${t}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:c("fb:app_id"),msapplicationConfig:p("msapplication-Config"),msapplicationTileColor:p("msapplication-TileColor"),msapplicationTileImage:p("msapplication-TileImage"),ogAudioSecureUrl:c("og:audio:secure_url"),ogAudioUrl:c("og:audio"),ogImageSecureUrl:c("og:image:secure_url"),ogImageUrl:c("og:image"),ogSiteName:c("og:site_name"),ogVideoSecureUrl:c("og:video:secure_url"),ogVideoUrl:c("og:video"),profileFirstName:c("profile:first_name"),profileLastName:c("profile:last_name"),profileUsername:c("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:e,value:t}){if(e==="seconds")return`${t}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return typeof t=="boolean"?`${s(e)}`:`${s(e)}:${t}`}}},xUaCompatible:{metaKey:"http-equiv"}},S=["og","book","article","profile"];function w(e){var r;const t=s(e).split(":")[0];return S.includes(t)?"property":((r=m[e])==null?void 0:r.metaKey)||"name"}function D(e){var t;return((t=m[e])==null?void 0:t.keyValue)||s(e)}function s(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),r=t.split("-")[0];return S.includes(r)||r==="twitter"?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function y(e){if(Array.isArray(e))return e.map(r=>y(r));if(typeof e!="object"||Array.isArray(e))return e;const t={};for(const[r,n]of Object.entries(e))t[s(r)]=y(n);return t}function H(e,t){const r=m[t];return t==="refresh"?`${e.seconds};url=${e.url}`:j(y(e),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:n,key:a}){if(n===null)return"";if(typeof n=="boolean")return`${a}`},...r==null?void 0:r.unpack})}const K=["og:image","og:video","og:audio","twitter:image"];function V(e){const t={};return Object.entries(e).forEach(([r,n])=>{String(n)!=="false"&&r&&(t[r]=n)}),t}function b(e,t){const r=V(t),n=s(e),a=w(n);if(K.includes(n)){const o={};return Object.entries(r).forEach(([i,l])=>{o[`${e}${i==="url"?"":`${i.charAt(0).toUpperCase()}${i.slice(1)}`}`]=l}),g(o).sort((i,l)=>{var f,u;return(((f=i[a])==null?void 0:f.length)||0)-(((u=l[a])==null?void 0:u.length)||0)})}return[{[a]:n,...r}]}function g(e){const t=[],r={};Object.entries(e).forEach(([a,o])=>{if(!Array.isArray(o)){if(typeof o=="object"&&o){if(K.includes(s(a))){t.push(...b(a,o));return}r[a]=V(o)}else r[a]=o;return}o.forEach(i=>{t.push(...typeof i=="string"?g({[a]:i}):b(a,i))})});const n=v(r,{key({key:a}){return w(a)},value({key:a}){return a==="charset"?"charset":"content"},resolveKeyData({key:a}){return D(a)},resolveValueData({value:a,key:o}){return a===null?"_null":typeof a=="object"?H(a,o):typeof a=="number"?a.toString():a}});return[...t,...n].map(a=>(a.content==="_null"&&(a.content=null),a))}function q(e){return typeof e=="function"?e():_(e)}function d(e,t=""){if(e instanceof Promise)return e;const r=q(e);return!e||!r?r:Array.isArray(r)?r.map(n=>d(n,t)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([n,a])=>n==="titleTemplate"||n.startsWith("on")?[n,_(a)]:[n,d(a,n)])):r}const P="usehead",$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__unhead_injection_handler__";function N(){if(A in $)return $[A]();const e=T(P);return e||M()}function F(e,t={}){const r=t.head||N();if(r)return r.ssr?r.push(e,t):L(r,e,t)}function L(e,t,r={}){const n=h(!1),a=h({});U(()=>{a.value=n.value?{}:d(t)});const o=e.push(a.value,r);return k(a,l=>{o.patch(l)}),O()&&(x(()=>{o.dispose()}),C(()=>{n.value=!0}),E(()=>{n.value=!1})),o}function R(e,t){const{title:r,titleTemplate:n,...a}=e;return F({title:r,titleTemplate:n,_flatMeta:a},{...t,transform(o){const i=g({...o._flatMeta});return delete o._flatMeta,{...o,meta:i}}})}export{R as u};
